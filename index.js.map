{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["const API_KEY = '47542274-6332373665e9da78801fe67b7'; \nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport async function fetchImages(query, page = 1, perPage = 12) {\n  const url = `${BASE_URL}?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=${perPage}`;\n  \n  try {\n    const response = await fetch(url);\n    if (!response.ok) throw new Error('Failed to fetch images');\n    return await response.json();\n  } catch (error) {\n    console.error('Error fetching images:', error.message);\n    throw error;\n  }\n}","// SimpleLightbox\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n// iziToast\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// Custom CSS\nimport './css/styles.css';\n\nimport { fetchImages } from './js/pixabay-api.js'; // Импорт API-запросов\n\nconst searchForm = document.getElementById('search-form');\nconst gallery = document.getElementById('gallery');\n\nsearchForm.addEventListener('submit', async (event) => {\n  event.preventDefault();\n  console.log('Form submitted');\n\n  const searchQuery = searchForm.elements.query.value.trim();\n  if (!searchQuery) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter a search term.',\n    });\n    return;\n  }\n\n  // Очистка галлереи перед новым запросом\n  gallery.innerHTML = '';\n\n  try {\n    const images = await fetchImages(searchQuery);\n    displayImages(images);\n  } catch (error) {\n    console.error('Error fetching images:', error);\n    iziToast.error({\n      title: 'Error',\n      message: 'Failed to fetch images.',\n    });\n  }\n});\n\nfunction displayImages(images) {\n  gallery.innerHTML = ''; // Очистка галереи перед добавлением новых изображений\n  if (images.hits.length === 0) {\n    iziToast.info({\n      title: 'Info',\n      message: 'Sorry, there are no images matching your search query. Please try again!',\n    });\n    return;\n  }\n\n  images.hits.forEach(image => {\n    const item = document.createElement('a');\n    item.href = image.largeImageURL;\n    item.classList.add('gallery-item');\n\n    const img = document.createElement('img');\n    img.src = image.webformatURL;\n    img.alt = image.tags;\n    img.classList.add('gallery-image');\n\n    item.appendChild(img);\n    gallery.appendChild(item);\n  });\n\n  // Подключаем библиотеку SimpleLightbox\n  new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n}\n"],"names":["API_KEY","BASE_URL","fetchImages","query","page","perPage","url","response","error","searchForm","gallery","event","searchQuery","iziToast","images","displayImages","image","item","img","SimpleLightbox"],"mappings":"iyBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAAYC,EAAOC,EAAO,EAAGC,EAAU,GAAI,CAC/D,MAAMC,EAAM,GAAGL,CAAQ,QAAQD,CAAO,MAAMG,CAAK,iEAAiEC,CAAI,aAAaC,CAAO,GAE1I,GAAI,CACF,MAAME,EAAW,MAAM,MAAMD,CAAG,EAChC,GAAI,CAACC,EAAS,GAAI,MAAM,IAAI,MAAM,wBAAwB,EAC1D,OAAO,MAAMA,EAAS,MACvB,OAAQC,EAAO,CACd,cAAQ,MAAM,yBAA0BA,EAAM,OAAO,EAC/CA,CACP,CACH,CCDA,MAAMC,EAAa,SAAS,eAAe,aAAa,EAClDC,EAAU,SAAS,eAAe,SAAS,EAEjDD,EAAW,iBAAiB,SAAU,MAAOE,GAAU,CACrDA,EAAM,eAAc,EACpB,QAAQ,IAAI,gBAAgB,EAE5B,MAAMC,EAAcH,EAAW,SAAS,MAAM,MAAM,OACpD,GAAI,CAACG,EAAa,CAChBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,6BACf,CAAK,EACD,MACD,CAGDH,EAAQ,UAAY,GAEpB,GAAI,CACF,MAAMI,EAAS,MAAMZ,EAAYU,CAAW,EAC5CG,EAAcD,CAAM,CACrB,OAAQN,EAAO,CACd,QAAQ,MAAM,yBAA0BA,CAAK,EAC7CK,EAAS,MAAM,CACb,MAAO,QACP,QAAS,yBACf,CAAK,CACF,CACH,CAAC,EAED,SAASE,EAAcD,EAAQ,CAE7B,GADAJ,EAAQ,UAAY,GAChBI,EAAO,KAAK,SAAW,EAAG,CAC5BD,EAAS,KAAK,CACZ,MAAO,OACP,QAAS,0EACf,CAAK,EACD,MACD,CAEDC,EAAO,KAAK,QAAQE,GAAS,CAC3B,MAAMC,EAAO,SAAS,cAAc,GAAG,EACvCA,EAAK,KAAOD,EAAM,cAClBC,EAAK,UAAU,IAAI,cAAc,EAEjC,MAAMC,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,IAAMF,EAAM,aAChBE,EAAI,IAAMF,EAAM,KAChBE,EAAI,UAAU,IAAI,eAAe,EAEjCD,EAAK,YAAYC,CAAG,EACpBR,EAAQ,YAAYO,CAAI,CAC5B,CAAG,EAGD,IAAIE,EAAe,aAAc,CAC/B,aAAc,MACd,aAAc,GAClB,CAAG,CACH"}